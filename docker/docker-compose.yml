# docker-compose.yml
version: '3'
services:
 prometheus:
   image: prom/prometheus
   ports:
     - "9090:9090"
   volumes:
     - ./prometheus.yml:/etc/prometheus/prometheus.yml
   command:
     - '--config.file=/etc/prometheus/prometheus.yml'

 grafana:
   image: grafana/grafana
   ports:
     - "3000:3000"
   volumes:
     - grafana-data:/var/lib/grafana
   depends_on:
     - prometheus

volumes:
 grafana-data:

# prometheus.yml
global:
 scrape_interval: 15s

scrape_configs:
 - job_name: 'node'
   static_configs:
     - targets: ['host.docker.internal:3000']